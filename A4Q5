A:
#include <stdio.h>
#define MAX 100
int q1[MAX],q2[MAX],f1=0,r1=0,f2=0,r2=0;
int isempty1(){return f1==r1;}
int isempty2(){return f2==r2;}
void enqueue1(int x){q1[r1++]=x;}
void enqueue2(int x){q2[r2++]=x;}
int dequeue1(){return q1[f1++];}
int dequeue2(){return q2[f2++];}
void push(int x){enqueue2(x); while(!isempty1()) enqueue2(dequeue1()); f1=0; r1=0; while(!isempty2()){enqueue1(dequeue2());} f2=0; r2=0;}
int pop(){if(isempty1())return -1; return dequeue1();}
int top(){if(isempty1())return -1; return q1[f1];}
int main(){
    int ch,x;
    while(scanf("%d",&ch)==1){
        if(ch==1){scanf("%d",&x);push(x);}
        else if(ch==2) printf("%d\n",pop());
        else if(ch==3) printf("%d\n",top());
        else break;
    }
    return 0;
}

B:

#include <stdio.h>
#define SZ 100
int q[SZ],front=0,rear=0;
int isempty(){return front==rear;}
void enqueue(int x){q[rear++]=x;}
int dequeue(){return q[front++];}
void push(int x){enqueue(x); int sz=rear-front-1; for(int i=0;i<sz;i++) enqueue(dequeue());}
int pop(){if(isempty())return -1; return dequeue();}
int top(){if(isempty())return -1; return q[front];}
int main(){
    int ch,x;
    while(scanf("%d",&ch)==1){
        if(ch==1){scanf("%d",&x);push(x);}
        else if(ch==2) printf("%d\n",pop());
        else if(ch==3) printf("%d\n",top());
        else break;
    }
    return 0;
}

