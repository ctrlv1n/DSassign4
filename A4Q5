A:
#include <iostream>
#include <queue>
using namespace std;
int main(){
    queue<int> q1,q2;
    int ch,x;
    while(cin>>ch){
        if(ch==1){ cin>>x; q2.push(x); while(!q1.empty()){ q2.push(q1.front()); q1.pop(); } swap(q1,q2); }
        else if(ch==2){ if(q1.empty()) cout<<-1<<"\n"; else{ cout<<q1.front()<<"\n"; q1.pop(); } }
        else if(ch==3){ if(q1.empty()) cout<<-1<<"\n"; else cout<<q1.front()<<"\n"; }
        else break;
    }
    return 0;
}


B:

#include <iostream>
#include <queue>
using namespace std;
int main(){
    queue<int> q;
    int ch,x;
    while(cin>>ch){
        if(ch==1){ cin>>x; q.push(x); int sz=(int)q.size(); for(int i=0;i<sz-1;i++){ q.push(q.front()); q.pop(); } }
        else if(ch==2){ if(q.empty()) cout<<-1<<"\n"; else{ cout<<q.front()<<"\n"; q.pop(); } }
        else if(ch==3){ if(q.empty()) cout<<-1<<"\n"; else cout<<q.front()<<"\n"; }
        else break;
    }
    return 0;
}


